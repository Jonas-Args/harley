<ion-header>
  <ion-navbar>
    <button button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Maintenance</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-item>
    <ion-label>
      <p>FI CODE:</p>
    </ion-label>
    <ion-input type="text" [(ngModel)]="ficode" disabled="true"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label>
      <p>FI NAME:</p>
    </ion-label>
    <ion-input type="text" [(ngModel)]="finame" disabled="true"></ion-input>
  </ion-item>
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <button ion-button full (click)="saveObj()">SAVE</button>
      </ion-col>
      <ion-col size="6">
        <button ion-button full navPop>
          CANCEL
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <button ion-button full (click)="verifyUser('loadPanelMain')">
          {{ loadingPanelMains? 'Loading...' : 'PANEL MAIN'}}
        </button>
      </ion-col>
      <ion-col size="6">
        <button ion-button full (click)="verifyUser('loadProdMaster')">
          {{ loadingLookupTable? 'Loading...' : 'PROD MASTER'}}
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-item>
    <ion-label>From:</ion-label>
    <ion-datetime displayFormat="YYYY-MM-D" pickerFormat="YYYY-MM-D" [(ngModel)]="date_start"></ion-datetime>
  </ion-item>
  <ion-item>
    <ion-label>To:</ion-label>
    <ion-datetime displayFormat="YYYY-MM-D" pickerFormat="YYYY-MM-D" [(ngModel)]="date_end"></ion-datetime>
  </ion-item>

  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <button ion-button full (click)="loadretrievals()">
          Retrieval
        </button>
      </ion-col>
      <ion-col size="6">
        <button ion-button full (click)="loadImages()">
          Images
        </button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <button ion-button full (click)="loadEOPs()">
          EOP Purchases
        </button>
      </ion-col>
      <ion-col size="6">
        <button ion-button full (click)="loadHhps()">
          HHP Purchases
        </button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col="12">
        <button ion-button full (click)="delete()">
          Delete
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-list>
    <ng-container *ngFor="let request of requests; let i = index">
      <!-- <ion-item (click)="editRequest(request.Id)"> -->
      <ion-row>
        <ion-item>
          <span *ngIf="selected == 'retrieval'">
            <ion-icon *ngIf="request?.stored == 'true'" name="cloud-done"></ion-icon>
            &nbsp;{{i+1}}&nbsp;{{request?.period_code}}&nbsp;{{request?.panel_code}}
          </span>
          <span *ngIf="selected == 'images'">
            <ion-icon *ngIf="request?.stored == 'true'" name="cloud-done"></ion-icon>
            &nbsp;{{i+1}}&nbsp;{{request?.period_code}}&nbsp;{{request?.panel_code}}&nbsp;{{request?.page_num}}
          </span>
          <span *ngIf="selected == 'eop'">
            <ion-icon *ngIf="request?.stored == 'true'" name="cloud-done"></ion-icon>
            &nbsp;{{i+1}}&nbsp;{{request?.period_code}}&nbsp;{{request?.panel_code}}&nbsp;{{request?.page_num}}
          </span>
          <span *ngIf="selected == 'hhp'">
            <ion-icon *ngIf="request?.stored == 'true'" name="cloud-done"></ion-icon>
            &nbsp;{{i+1}}&nbsp;{{request?.period_code}}&nbsp;{{request?.panel_code}}&nbsp;{{request?.page_num}}
          </span>
        </ion-item>
      </ion-row>

    </ng-container>
  </ion-list>
</ion-content>