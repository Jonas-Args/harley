<ion-header>
  <ion-navbar>
    <button button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Purchase Entry HHP
    </ion-title>
  </ion-navbar>
</ion-header>
<!--  *ngIf="this.irfObj.project == 'EOP' -->
<ion-content padding>
  <form [formGroup]="formPanel">
    <ion-item>
      <ion-label>
        <p>{{formPanel?.value?.period_code}},{{formPanel?.value?.panel_code}},{{formPanel?.value?.page_num}}</p>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>Date Ordered:</ion-label>
      <ion-datetime [disabled]="!canEdit" displayFormat="YYYY-MM-D" pickerFormat="YYYY-MM-D"
        formControlName="date_ordered"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label>Time Ordered:</ion-label>
      <ion-datetime [disabled]="!canEdit" displayFormat="h:mm A" pickerFormat="h:mm A" formControlName="time_ordered">
      </ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label>
        <p>Outlet Type:</p>
      </ion-label>
      <ion-select [disabled]="!canEdit" formControlName="outlet_type" ok-text="Okay" cancel-text="Dismiss">
        <ion-option value="" selectable="false" selected="true">
          Select</ion-option>
        <ion-option *ngFor=" let type of ['SM','SS','GS','CV','MS','DI','DR']" [value]="type">{{ type }}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Outlet Name:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="outlet_name" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Prodcat:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="prod_cat" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Brand:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="brand" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Variant:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="variant" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Size:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="size" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Quantity:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="quantity" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Price:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="price" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>Promo:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="promo" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>ProdUser:</p>
      </ion-label>
      <ion-input [disabled]="!canEdit" formControlName="promo_user" type="text"></ion-input>
    </ion-item>
    <ion-grid>
      <ion-row>
        <ion-col col="4">
          <button ion-button full (click)="new()">
            NEW
          </button>
        </ion-col>
        <ion-col col="4">
          <button ion-button full (click)="edit()">
            EDIT
          </button>
        </ion-col>
        <ion-col col="4">
          <button ion-button full (click)="delete()">
            DELETE
          </button>
        </ion-col>
        <ion-col col="4">
          <button ion-button full (click)="save()">
            SAVE
          </button>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col="4">
          <button [disabled]="this.hhps.length==0" ion-button full (click)="previous()">
            Prev
          </button>
        </ion-col>
        <ion-col col="4">
          <button [disabled]="this.hhps.length==0" ion-button full (click)="next()">
            Next
          </button>
        </ion-col>
        <ion-col *ngIf="!!irfObj?.rowId && connectedToNet" col="4">
          <button ion-button full (click)="sync()">
            Sync
          </button>
        </ion-col>
        <ion-col col="4">
          <button ion-button full navPop>Exit</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
  <ion-list>
    <ng-container *ngFor="let eop of hhps; let i = index">
      <!-- <ion-item (click)="editRequest(request.Id)"> -->
      <ion-item (click)="selectEop(eop)">
        <ion-col *ngIf="eop?.stored == 'true'">
          <ion-icon name="cloud-done"></ion-icon>
        </ion-col>
        <ion-col *ngIf="selectedHhp?.rowId == eop.rowId">
          <ion-icon name="checkmark"></ion-icon>
        </ion-col>
        <ion-col>{{i+1}}</ion-col>
        <ion-col>{{irfObj.period_code}},{{irfObj.panel_code}},{{picObj.page_num}},{{eop.rowId}}</ion-col>
        <!-- add field here -->
      </ion-item>
    </ng-container>
  </ion-list>
</ion-content>